import React, {useEffect, useMemo, useState} from 'react'
import { firestore } from 'components/fireStore'
import Loading from 'components/loading'

export default () => {

    let [services, setServices] = useState([])

    useMemo(() => {
        firestore.collection('projects').get().then(snapshot => {

            const myServices = snapshot.docs.map((doc) => {
                return doc.data()
            })
            console.log('###', myServices)
            setServices(myServices)
        })
    }, [])

    //useEffect(() => {
        //console.log(services)
    //}, [])

    return (

        services 
        ? <>
        <div className='container'>
            <h1 className='text-center'>Проекты</h1>
            <div className='row'>
                {
                    services.map((el, index) => {
                        return (
                            <div key={index} className='col-4 mb-2'>
                                <img src={`/img/projects/${el.img}.jpg`} className='img-fluid'/>
                                <div className='text-center'>{el.name}</div>
                            </div>
                        )
                    })
                }
            </div>
        </div>
        </>
        : <Loading />
    )
}